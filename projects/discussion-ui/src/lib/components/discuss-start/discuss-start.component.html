<!--modals-->
<div class="modal fade" id="myModal">
  <div class="discussion-start-modal">
    <div class="discussion-start-modal-content" tabindex="-1" role="dialog">
      <form [formGroup]="startForm" class="discussion-start-form">

        <div class="mb-16" *ngIf="showSelectCategory" [ngClass]="{ 'is-invalid': showError('subTitle') }">
          <label class="start-form-label">Select category*</label>
          <div class="start-form-field">
            <label for="myList">Select list </label>
            <select formControlName="category" #category [required]="true" id="myList" class="select-category">
              <option [value]="c.cid" *ngFor="let c of allCategories" [innerHTML]="c.name"></option>
            </select>
          </div>
          <small class="text-error" *ngIf="showError('question')" i18n="category Error|Explains category is required">
            category is mandatory</small>
        </div>

        <div class="mb-16" [ngClass]="{ 'is-invalid': showError('subTitle') }">
          <label class="start-form-label">Discussion topic*</label>
          <div class="start-form-field">
            <input [ngClass]="{'is-invalid' : isFieldValid('question')}" class="start-form-field-control py-8" placeholder="Type here (minimum 8 characters)"
              formControlName="question" #question maxlength="1000" />
              <small class="text-error">Question is mandatory. It should be minimum of
                8 characters</small>
          </div>
        </div>

        <div class="mb-16">
          <div class="start-form-field">
            <label class="start-form-label" for="description">Please elaborate your question or idea here*</label>
            <textarea [ngClass]="{'is-invalid' : isFieldValid('description')}" class="start-form-field-control py-8" formControlName="description"
              #description name="moretext" placeholder="Type here (minimum 8 characters)" id="description" ></textarea>
              <small class="text-error" > Description is mandatory. It should be minimum of
                8 characters </small>
          </div>
        </div>

        <div #postTags [ngClass]="{ 'is-invalid': showError('tags') }" class="mb-24">
          <label class="mb-0">Tags</label>
          <div *ngFor="let tag of postTagsArray">
            {{ tag }}
          </div>
          <!-- TODO: check the padding for placeholder -->
          <tag-input class="py-8" secondaryPlaceholder="Add a tag and press Enter" formControlName="tags"
            [modelAsStrings]="true">
          </tag-input>
        </div>

        <div *ngIf="showErrorMsg">
          <small class="mandatory-label">
            {{createErrorMsg}}
          </small>
        </div>

        <div class="start-modal-buttons">
          <button (click)="closeModal('discard');logTelemetry($event)" mat-raised-button type="button"
            class="sb-btn sb-btn-normal sb-btn-outline-primary" id="discard-discussion-start-form">Cancel
          </button>
          <span *ngIf="uploadSaveData" class="px-4 flex items-center justify-center">
          </span>
          <button *ngIf="mode !== 'edit'" type="submit" class="sb-btn sb-btn-normal sb-btn-primary ml-16"
            [ngClass]="{'df-btn-disabled': !startForm.valid }" [disabled]="!startForm.valid"
            (click)="submitPost(startForm);logTelemetry($event)" id="submit-discussion-start-form">
            <span class="text-white">Submit</span>
          </button>
          <button *ngIf="mode === 'edit'" type="submit" class="sb-btn sb-btn-normal sb-btn-primary ml-16"
            [ngClass]="{'df-btn-disabled': !enableSubmitButton }" [disabled]="!enableSubmitButton"
            (click)="updatePost(startForm);logTelemetry($event)" id="update-topic-popup">
            <span class="text-white">Update</span>
          </button>
        </div>
        ​
      </form>
      ​
      <input type="hidden" i18-value i18-aria-value aria-value="Post created successful"
        value="Post created successfully!" #toastSuccess />
      <input type="hidden" i18-value i18-aria-value aria-value="unable to create post"
        value="Error in creating new post!" #toastError />
    </div>
  </div>
</div>