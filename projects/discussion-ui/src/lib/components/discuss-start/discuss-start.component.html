<!--modals-->
<div class="modal fade" id="myModal">
  <div class="discussion-start-modal">
    <div class="discussion-start-modal-content">
      <form [formGroup]="startForm" class="discussion-start-form">
        <!-- TODO: To remove the ngIf condition nd take it from config-->
        <div class="start-form-input" *ngIf="false" [ngClass]="{ 'is-invalid': showError('subTitle') }">
          <label class="start-form-label">Select Category</label>
          <div class="start-form-field">
            <label>Select list</label>
            <select formControlName="category" #category [required]="true" id="myList">
              <option [value]="c.cid" *ngFor="let c of allCategories" [innerHTML]="c.name"></option>
            </select>
          </div>
          <small class="text-error" *ngIf="showError('question')" i18n="category Error|Explains category is required">
            category is mandatory</small>
        </div>

        <div class="start-form-field" [ngClass]="{ 'is-invalid': showError('subTitle') }">
          <label class="start-form-label">Ask a question or post an idea</label>
          <div>
            <input class="start-form-field-control" placeholder="Ask a question or post an idea"
              formControlName="question" #question maxlength="1000" [required]="true" />
          </div>
          <small class="text-error" *ngIf="showError('question')" i18n="question Error|Explains question is required">
            Question is mandatory</small>
        </div>

        <div class="start-form-field">
          <label class="start-form-label">Please elaborate your question or idea here</label>
          <div>
            <textarea minlength="8" class="start-form-field-control" rows="8" formControlName="description" #description
              name="moretext" placeholder="Type here..."></textarea>
          </div>
          <small class="text-error" *ngIf="showError('description')"
            i18n="description Error|Explains description is required"> Description is mandatory. It should be minimum of
            8 characters </small>
        </div>

        <div #postTags [ngClass]="{ 'is-invalid': showError('tags') }" class="post-tags">
          <label class="mb-0">Tags</label>
          <div *ngFor="let tag of postTagsArray">
            {{ tag }}
          </div>
          <!-- TODO: check the padding for placeholder -->
          <tag-input secondaryPlaceholder="Add a tag and press Enter" formControlName="tags" [modelAsStrings]="true">
          </tag-input>
        </div>

        <div *ngIf="showErrorMsg">
          <small class="mandatory-label">
            {{createErrorMsg}}
          </small>
        </div>

        <div class="start-modal-buttons">
          <button (click)="closeModal('discard');logTelemetry($event)" type="button"
            class="df-btn df-discard-btn" id="discard-discussion-start-form">Discard
          </button>
          <span *ngIf="uploadSaveData" class="px-4">
          </span>
          <button *ngIf="mode !== 'edit'" type="submit" class="df-btn df-submit-btn"
            [ngClass]="{'df-btn-disabled': !enableSubmitButton }" [disabled]="!enableSubmitButton"
            (click)="submitPost(startForm);logTelemetry($event)" id="submit-discussion-start-form">
            <span class="text-white">Submit</span>
          </button>
          <button *ngIf="mode === 'edit'" type="submit" class="df-btn df-update-btn"
            [ngClass]="{'df-btn-disabled': !enableSubmitButton }" [disabled]="!enableSubmitButton"
            (click)="updatePost(startForm);logTelemetry($event)" id="update-topic-popup">
            <span class="text-white">Update</span>
          </button>
        </div>
        ​
      </form>
      ​
      <input type="hidden" aria-value="Post created successful"
        value="Post created successfully!" #toastSuccess />
      <input type="hidden" aria-value="unable to create post"
        value="Error in creating new post!" #toastError />
    </div>
  </div>
</div>